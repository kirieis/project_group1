<!doctype html>
<html lang="vi">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Github Pharmacy</title>
    <link rel="stylesheet" href="home.css" />
    <style>
        /* Specific styles for login page to center the form */
        .login-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 60vh;
            padding: 40px 0;
        }

        .login-card {
            background: var(--white);
            padding: 40px;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-lg);
            width: 100%;
            max-width: 450px;
            border: 1px solid var(--border);
        }

        .login-title {
            text-align: center;
            margin-bottom: 30px;
        }

        .login-title h1 {
            font-family: var(--font-heading);
            font-size: 28px;
            color: var(--primary);
            font-weight: 800;
            margin-bottom: 8px;
        }

        .login-title p {
            color: var(--text-muted);
            font-size: 15px;
        }

        .back-link {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            transition: color 0.2s;
        }

        .back-link:hover {
            color: var(--gold);
        }
    </style>
</head>

<body>
    <!-- HEADER -->
    <header class="header">
        <div class="header__inner container">
            <div class="brand">
                <!-- Link logo back to home -->
                <a href="home.html" style="text-decoration: none; display: flex; gap: 14px; align-items: center;">
                    <div class="brand__logo" aria-label="Github logo">
                        <span class="logo-dot"></span>
                        <span class="logo-dot"></span>
                        <span class="logo-dot"></span>
                    </div>
                    <div class="brand__text">
                        <div class="brand__name">Github Pharmacy</div>
                    </div>
                </a>
            </div>

            <div class="search">
                <input id="globalSearch" type="search" placeholder="T√¨m t√™n thu·ªëc..." />
                <button id="btnSearch" class="btn btn--icon" title="T√¨m ki·∫øm" aria-label="T√¨m ki·∫øm">
                    üîç
                </button>
            </div>

            <div class="header__actions">
                <!-- Login button removed since we are here -->
                <a href="#" class="btn btn--ghost">
                    Tr·ª£ gi√∫p
                </a>
            </div>
        </div>
    </header>

    <!-- MAIN -->
    <main class="container main">
        <div class="login-wrapper">
            <div class="login-card">
                <div class="login-title">
                    <h1>ƒêƒÉng nh·∫≠p</h1>
                    <p>Ch√†o m·ª´ng tr·ªü l·∫°i Github Pharmacy</p>
                </div>

                <div id="messageBox"
                    style="display: none; padding: 12px; border-radius: 8px; margin-bottom: 20px; font-size: 14px; text-align: center; border: 1px solid transparent;">
                </div>

                <form action="/login" method="POST">
                    <!-- Keep existing name attributes consistent -->
                    <label class="field">
                        <span>T√™n ƒëƒÉng nh·∫≠p</span>
                        <input type="text" id="username" name="username" required placeholder="Nh·∫≠p username">
                    </label>

                    <label class="field">
                        <span>M·∫≠t kh·∫©u</span>
                        <div class="field--password">
                            <input type="password" id="password" name="password" required placeholder="Nh·∫≠p password">
                            <button type="button" class="password-toggle" id="togglePassword" title="Hi·ªán/·∫¢n m·∫≠t kh·∫©u">
                                üëÅÔ∏è
                            </button>
                        </div>
                    </label>

                    <button type="submit" class="btn btn--primary"
                        style="width: 100%; margin-top: 10px; justify-content: center;">ƒêƒÉng Nh·∫≠p</button>
                </form>

                <div style="text-align: center; margin-top: 24px;">
                    <p style="color: var(--text-muted); font-size: 14px; margin-bottom: 8px;">Ch∆∞a c√≥ t√†i kho·∫£n?</p>
                    <a href="register.html" class="back-link">ƒêƒÉng k√Ω ngay</a>
                    <div style="margin-top: 16px;">
                        <a href="home.html" class="back-link">‚Üê Quay l·∫°i trang ch·ªß</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="container footer__inner">
            Connect with us : 03xxxxxxx
        </div>
    </footer>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const msgBox = document.getElementById('messageBox');

        if (urlParams.has('registered')) {
            msgBox.style.display = 'block';
            msgBox.style.background = '#dcfce7';
            msgBox.style.color = '#166534';
            msgBox.style.borderColor = '#bbf7d0';
            msgBox.textContent = 'üéâ ƒêƒÉng k√Ω th√†nh c√¥ng! H√£y ƒëƒÉng nh·∫≠p ngay.';
        } else if (urlParams.get('error') === 'unauthorized') {
            msgBox.style.display = 'block';
            msgBox.style.background = '#fee2e2';
            msgBox.style.color = '#ef4444';
            msgBox.style.borderColor = '#fecaca';
            msgBox.textContent = '‚õî B·∫°n kh√¥ng c√≥ quy·ªÅn truy c·∫≠p trang n√†y!';
        } else if (urlParams.has('error')) {
            msgBox.style.display = 'block';
            msgBox.style.background = '#fee2e2';
            msgBox.style.color = '#ef4444';
            msgBox.style.borderColor = '#fecaca';
            msgBox.textContent = '‚ùå Sai t√™n ƒëƒÉng nh·∫≠p ho·∫∑c m·∫≠t kh·∫©u!';
        }

        // Password Toggle Logic
        const togglePassword = document.getElementById('togglePassword');
        const passwordInput = document.getElementById('password');

        if (togglePassword && passwordInput) {
            togglePassword.addEventListener('click', function () {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                this.textContent = type === 'password' ? 'üëÅÔ∏è' : 'üôà';
            });
        }
    </script>
</body>

</html>